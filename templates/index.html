<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookly - Recipe Capture</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="header-content">
                <h1 class="app-title">üç≥ Cookly</h1>
                <p class="app-subtitle">Recipe Reserve</p>
            </div>
        </header>

        <main class="main-content">
            <section class="url-input-section">
                <div class="input-container">
                    <label for="recipe-url" class="input-label">Enter Recipe URL:</label>
                    <div class="url-input-group">
                        <input 
                            type="url" 
                            id="recipe-url" 
                            class="url-input" 
                            placeholder="https://example.com/recipe"
                        >
                        <button id="capture-btn" class="capture-button">
                            <span class="button-text">Save Recipe</span>
                            <span class="loading-spinner" style="display: none;">‚è≥</span>
                        </button>
                    </div>
                </div>
            </section>

            <div id="status-message" class="status-message" style="display: none;"></div>

            <section id="recipe-display" class="recipe-display" style="display: none;">
                <div class="recipe-header">
                    <img id="recipe-image" class="recipe-image" alt="Recipe" style="display: none;">
                    <div class="recipe-title-section">
                        <h2 id="recipe-title" class="recipe-title"></h2>
                        <p id="recipe-description" class="recipe-description"></p>
                        <p id="recipe-author" class="recipe-author"></p>
                    </div>
                </div>

                <div class="recipe-times">
                    <div class="time-item">
                        <span class="time-label">Prep:</span>
                        <span id="prep-time" class="time-value"></span>
                    </div>
                    <div class="time-item">
                        <span class="time-label">Cook:</span>
                        <span id="cook-time" class="time-value"></span>
                    </div>
                    <div class="time-item">
                        <span class="time-label">Total:</span>
                        <span id="total-time" class="time-value"></span>
                    </div>
                </div>

                <div class="recipe-content">
                    <div class="ingredients-section">
                        <h3 class="section-title">Ingredients</h3>
                        <ul id="ingredients-list" class="ingredients-list"></ul>
                    </div>

                    <div class="instructions-section">
                        <h3 class="section-title">Instructions</h3>
                        <ol id="instructions-list" class="instructions-list"></ol>
                    </div>
                </div>

                <div class="recipe-actions">
                    <button id="save-recipe" class="save-button">üíæ Save</button>
                    <button id="share-recipe" class="share-button">üì§ Share</button>
                    <button id="add-to-shopping" class="add-to-shopping-btn">üõí Add to List</button>
                    <button id="step-by-step" class="step-button">üë®‚Äçüç≥ Step-by-Step</button>
                </div>
            </section>

            <!-- Save Recipe Dialog -->
            <div id="save-dialog" class="dialog" style="display: none;">
                <div class="dialog-content">
                    <h3>Save Recipe</h3>
                    <div class="form-group">
                        <label for="recipe-category">Category:</label>
                        <select id="recipe-category" class="category-select">
                            <option value="Dinner">Dinner</option>
                            <option value="Breakfast">Breakfast</option>
                            <option value="Lunch">Lunch</option>
                            <option value="Dessert">Dessert</option>
                            <option value="Snack">Snack</option>
                            <option value="Drinks">Drinks</option>
                        </select>
                    </div>
                    <div class="dialog-actions">
                        <button id="confirm-save" class="btn-primary">Save</button>
                        <button id="cancel-save" class="btn-secondary">Cancel</button>
                    </div>
                </div>
            </div>

            <section id="step-mode" class="step-mode" style="display: none;">
                <div class="step-header">
                    <button id="exit-step-mode" class="exit-button">‚Üê Back</button>
                    <h3>Step <span id="current-step">1</span> of <span id="total-steps">1</span></h3>
                </div>
                
                <div class="step-content">
                    <div id="step-instruction" class="step-instruction"></div>
                    <div class="step-navigation">
                        <button id="prev-step" class="nav-button">‚Üê Previous</button>
                        <button id="next-step" class="nav-button">Next ‚Üí</button>
                    </div>
                </div>
                
                <div class="step-progress">
                    <div class="progress-bar">
                        <div id="progress-fill" class="progress-fill"></div>
                    </div>
                </div>
            </section>

            <!-- Share Dialog -->
            <div id="share-dialog" class="dialog" style="display: none;">
                <div class="dialog-content share-dialog-content">
                    <h3>Share Recipe</h3>
                    <div class="share-tabs">
                        <button class="share-tab active" data-tab="text">Text</button>
                        <button class="share-tab" data-tab="email">Email</button>
                        <button class="share-tab" data-tab="cookly">Cookly URL</button>
                    </div>
                    <div class="share-content">
                        <textarea id="share-text" class="share-textarea" readonly></textarea>
                        <div id="share-email" class="share-email-content" style="display: none;">
                            <p>Send this recipe via email:</p>
                            <input type="email" id="share-email-address" placeholder="recipient@example.com" class="email-input">
                            <button id="send-email-btn" class="btn-primary">Send Email</button>
                        </div>
                        <div id="share-cookly" class="share-cookly-content" style="display: none;">
                            <p>Share this URL with other Cookly users:</p>
                            <input type="text" id="cookly-url" class="url-input-field" readonly>
                            <p class="import-instructions">To import: Paste the URL into the recipe URL input and click "Save Recipe"</p>
                        </div>
                    </div>
                    <div class="dialog-actions">
                        <button id="copy-text" class="btn-primary">Copy Text</button>
                        <button id="copy-cookly-url" class="btn-primary" style="display: none;">Copy URL</button>
                        <button id="send-email-action" class="btn-primary" style="display: none;">Open Email App</button>
                        <button id="close-share" class="btn-secondary">Close</button>
                    </div>
                </div>
            </div>

            <!-- Shopping List Section -->
            <section id="shopping-list-section" class="shopping-list-section">
                <div class="shopping-list-header">
                    <h3 class="section-title">üõí Shopping List</h3>
                    <button id="toggle-shopping-list" class="toggle-btn">Show</button>
                </div>
                <div id="shopping-list-content" class="shopping-list-content" style="display: none;">
                    <div id="shopping-list-empty" class="shopping-list-empty">
                        <p>Your shopping list is empty.</p>
                        <p class="hint">Add ingredients from saved recipes or add items manually.</p>
                    </div>
                    <ul id="shopping-list-items" class="shopping-list-items"></ul>
                    <div class="shopping-list-actions">
                        <div class="add-item-row">
                            <input type="text" id="new-shopping-item" placeholder="Add item manually..." class="add-item-input">
                            <button id="add-shopping-item" class="add-item-btn">+</button>
                        </div>
                        <div class="list-actions">
                            <button id="clear-purchased" class="action-btn">Clear Purchased</button>
                            <button id="clear-all-items" class="action-btn danger">Clear All</button>
                        </div>
                    </div>
                </div>
            </section>

            <section class="saved-recipes">
                <div class="saved-recipes-header">
                    <h3 class="section-title">Saved Recipes</h3>
                    <div class="filters">
                        <div class="search-box">
                            <input type="text" id="search-input" placeholder="üîç Search recipes..." class="search-input">
                            <button id="clear-search" class="clear-btn" style="display: none;">‚úï</button>
                        </div>
                        <div class="filter-box">
                            <select id="category-filter" class="category-filter">
                                <option value="all">All Categories</option>
                                <option value="Dinner">Dinner</option>
                                <option value="Breakfast">Breakfast</option>
                                <option value="Lunch">Lunch</option>
                                <option value="Dessert">Dessert</option>
                                <option value="Snack">Snack</option>
                                <option value="Drinks">Drinks</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="saved-recipes-list" class="saved-recipes-list">
                    <p class="no-recipes">No saved recipes yet.</p>
                </div>
            </section>
        </main>

        <footer class="app-footer">
            <p>Built with ü§ñ by Clawstin Powers</p>
        </footer>
    </div>

    <script src="/static/js/app.js"></script>
</body>
</html>
